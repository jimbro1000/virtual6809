(()=>{var e={885:(e,t,o)=>{e.exports=o(941)},941:e=>{e.exports=function(t){return e.exports.definer(t)},e.exports.define=function(t,o,r){var c;if("object"==typeof o)for(c in o)o.hasOwnProperty(c)&&e.exports.define(t,c,o[c]);else Object.defineProperty(t,o,{value:r,enumerable:!0,writable:!1,configurable:!1});return t},e.exports.definer=function(t){return t=t||Object.create(null),function(o,r){return e.exports.define(t,o,r)}}},147:e=>{e.exports={Alu:class{constructor(e){this.cc=e,this.add8=(e,t,o)=>{void 0===o&&(o=0);const r=e+t+o,c=255&r,i=(15&e)+(15&t)+o,a=e^t^128;return this.cc.negative(!!(128&r)),this.cc.carry(r!==c),this.cc.zero(0===c),this.cc.halfcarry(i>15),this.cc.overflow(!!(a&(t^c)&128)),c},this.add16=(e,t)=>{const o=e+t,r=65535&o,c=e^t^32768;return this.cc.negative(!!(32768&o)),this.cc.carry(o!==r),this.cc.zero(0===r),this.cc.overflow(!!(c&(t^r)&32768)),r},this.sub8=(e,t,o)=>{void 0===o&&(o=0);const r=e-t-o,c=255&r;let i;return i=0===o?e^t:e^t^128,this.cc.negative(!!(128&r)),this.cc.carry(r!==c),this.cc.zero(0===c),this.cc.overflow(!!(i&(e^c)&128)),c},this.sub16=(e,t)=>{const o=e-t,r=65535&o,c=e^t;return this.cc.negative(!!(32768&o)),this.cc.carry(o!==r),this.cc.zero(0===r),this.cc.overflow(!!(c&(e^r)&32768)),r},this.mul8=(e,t)=>{const o=e*t;return this.cc.carry(!(128&~o)),this.cc.zero(0===o),o},this.and8=(e,t,o)=>{void 0===o&&(o=!0);const r=e&t;return o&&this.test8(r),r},this.or8=(e,t,o)=>{void 0===o&&(o=!0);const r=e|t;return o&&this.test8(r),r},this.eor8=(e,t)=>{const o=e^t;return this.test8(o),o},this.shiftLeft8=(e,t)=>{void 0===t&&(t=!1);const o=(e<<1)+(t&&this.cc.ifcarryset(this.cc)?1:0),r=255&o,c=o!==r,i=!!(128&o);return this.cc.carry(c),this.cc.negative(i),this.cc.zero(0===r),this.cc.overflow(c&&!i||!c&&i),r},this.shiftRight8=(e,t)=>{void 0===t&&(t=!1);const o=!!(1&e),r=(254&e)>>1|(t?this.cc.ifcarryset(this.cc)?128:0:128&e),c=!!(128&r);return this.cc.carry(o),this.cc.negative(c),this.cc.zero(0===r),r},this.rotateLeft8=e=>this.shiftLeft8(e,!0),this.rotateRight8=e=>this.shiftRight8(e,!0),this.complement8=e=>(e=this.eor8(e,255),this.cc.carry(!0),this.cc.zero(0===e),this.cc.negative(!!(128&e)),this.cc.overflow(!1),e),this.negate8=e=>256-e&255,this.negate8andTest=e=>(this.cc.carry(0!==e),this.cc.overflow(128===e),e=this.negate8(e),this.cc.zero(0===e),this.cc.negative(!!(128&e)),e),this.negate5=e=>32-e&31,this.negate16=e=>65536-e&65535,this.test8=e=>{this.cc.negative(!!(128&e)),this.cc.zero(0===e),this.cc.overflow(!1)},this.daa=e=>{let t=e>>4,o=15&e;(this.cc.ifcarryset(this.cc)||t>9||t>8&&o>9)&&(t+=6),(this.cc.ifhalfcarry()||o>9)&&(o+=6,t+=1),this.cc.carry((15&t)!==t);const r=(15&t)<<4|15&o;return this.cc.negative(!!(128&r)),this.cc.zero(0===r),r},this.offsetEA5=(e,t)=>{let o;return o=16&~e?t+e:t-this.negate5(e),65535&o},this.offsetEA8=(e,t)=>{let o;return o=128&~e?t+e:t-this.negate8(e),65535&o},this.offsetEA16=(e,t)=>{let o;return o=32768&~e?t+e:t-this.negate16(e),65535&o}}}}},550:(e,t,o)=>{const{CpuRegister:r}=o(775),c=o(109);e.exports={ControlRegister:class extends r{mapConditionToFunction(){let e={};return e.always=this.ifalways,e.never=this.ifnever,e.carryset=this.ifcarryset,e.carryclear=this.ifcarryclear,e.equal=this.ifequal,e.notequal=this.ifnotequal,e.greaterorequal=this.ifgreaterorequal,e.greaterthan=this.ifgreaterthan,e.higher=this.ifhigher,e.lowerorsame=this.iflowerorsame,e.lessorequal=this.iflessorequal,e.lessthan=this.iflessthan,e.negative=this.ifnegative,e.positive=this.ifpositive,e.overflow=this.ifoverflow,e.notoverflow=this.ifnotoverflow,e}constructor(){super(c.SHORT,"CC",null),this.conditions=this.mapConditionToFunction()}test(e){return(0,this.conditions[e])(this)}set(e){this.value|=e}clear(e){this.value&=this.valueMask^e}load(e){this.value=e}save(){return this.value}cc(e,t){e?this.set(t):this.clear(t)}carry(e){this.cc(e,c.CARRY)}halfcarry(e){this.cc(e,c.HALFCARRY)}entire(e){this.cc(e,c.ENTIRE)}irq(e){this.cc(e,c.IRQ)}firq(e){this.cc(e,c.FIRQ)}ifalways(){return!0}ifnever(){return!1}ifcarryset(e){return(e.value&c.CARRY)>0}ifcarryclear(e){return!e.ifcarryset(e)}ifequal(e){return(e.value&c.ZERO)>0}ifnotequal(e){return!e.ifequal(e)}ifnegative(e){return(e.value&c.NEGATIVE)>0}ifpositive(e){return!e.ifnegative(e)}ifoverflow(e){return(e.value&c.OVERFLOW)>0}ifnotoverflow(e){return!e.ifoverflow(e)}ifgreaterorequal(e){const t=(e.value&c.NEGATIVE)>0,o=(e.value&c.OVERFLOW)>0;return!(t&&!o||o&&!t)}ifgreaterthan(e){const t=(e.value&c.NEGATIVE)>0,o=(e.value&c.OVERFLOW)>0,r=(e.value&c.ZERO)>0;return(t&&!o||o&&!t)&&!r}ifhigher(e){const t=(e.value&c.CARRY)>0,o=(e.value&c.ZERO)>0;return!t&&!o}iflowerorsame(e){const t=(e.value&c.CARRY)>0,o=(e.value&c.ZERO)>0;return t||o}iflessorequal(e){const t=(e.value&c.NEGATIVE)>0,o=(e.value&c.OVERFLOW)>0,r=(e.value&c.ZERO)>0;return(t&&!o||o&&!t)&&r}iflessthan(e){const t=(e.value&c.NEGATIVE)>0,o=(e.value&c.OVERFLOW)>0;return t&&!o||o&&!t}ifhalfcarry(){return(this.value&c.HALFCARRY)>0}ifentireset(){return(this.value&c.ENTIRE)>0}ifirqclear(){return!(this.value&c.IRQ)}iffirqclear(){return!(this.value&c.FIRQ)}}}},655:(e,t,o)=>{const{CpuRegister:r}=o(775),{RegisterManager:c}=o(948),i=o(109),{instructions:a}=o(832),{Alu:d}=o(147);e.exports={Cpu:class{constructor(e){this.registers=new c,this.memory=e,this.instructions=a,this.PC=this.registers.get("PC"),this.W=this.registers.get("W"),this.AD=this.registers.get("AD"),this.CC=this.registers.get("CC"),this.alu1=new d(this.CC),this.operation=null,this.object=this.PC,this.target=null,this.codes=this.mapCodeNameToCode(),this.lambdas=this.mapCodeToLambda(),this.stackOrder=this.mapStackOrder(),this.registerIds=this.mapRegisterIdentifier(),this.interruptLines=this.mapInterruptLines(),this.postbyteRegisters=this.mapPostbyteToRegister(),this.code=[i.TFRWTOOB,i.READWLOW,i.READHIGH],this.PC.set(65534),this.runState=i.RUNNING,this.interruptQueue=[]}mapCodeNameToCode(){const e={};return e.DIRECT=i.DIRECT,e.READHIGH=i.READHIGH,e.READLOW=i.READLOW,e.WRITEHIGH=i.WRITEHIGH,e.WRITELOW=i.WRITELOW,e.WRITEWLOW=i.WRITEWLOW,e.READADHIGH=i.READADHIGH,e.READADLOW=i.READADLOW,e.READADWLOW=i.READADWLOW,e.TFRWTOOB=i.TFRWTOOB,e.TFRWTOTG=i.TFRWTOTG,e.TFROBTOTG=i.TFROBTOTG,e.TFRTGTOOB=i.TFRTGTOOB,e.BUSY=i.BUSY,e.ADDTGTOOB=i.ADDTGTOOB,e.READWLOW=i.READWLOW,e.READLOWCOMPARE=i.READLOWCOMPARE,e.READADLOWCOMPARE=i.READADLOWCOMPARE,e.COMPAREW=i.COMPAREW,e.INCOB=i.INCOB,e.DECOB=i.DECOB,e.INCW=i.INCW,e.DECW=i.DECW,e.PUSH=i.PUSH,e.PULL=i.PULL,e.PUSHPC=i.PUSHPC,e.PULLPC=i.PULLPC,e.ADDPCTOOB=i.ADDPCTOOB,e.ADDCPCTOOB=i.ADDCPCTOOB,e.ADDTGBTOOB=i.ADDTGBTOOB,e.ADDTGSTOOBIF=i.ADDTGSTOOBIF,e.ADDTGSWTOOBIF=i.ADDTGSWTOOBIF,e.ADDCTGTOOB=i.ADDCTGTOOB,e.SUBPCFROMOB=i.SUBPCFROMOB,e.SUBCPCFROMOB=i.SUBCPCFROMOB,e.SUBTGFROMOB=i.SUBTGFROMOB,e.SUBWFROMOB=i.SUBWFROMOB,e.SUBCTGFROMOB=i.SUBCTGFROMOB,e.SWAPWAD=i.SWAPWAD,e.READAND=i.READAND,e.ANDCC=i.ANDCC,e.READOR=i.READOR,e.ORCC=i.ORCC,e.READEOR=i.READEOR,e.SHIFTLEFT=i.SHIFTLEFT,e.SHIFTRIGHT=i.SHIFTRIGHT,e.ROTATELEFT=i.ROTATELEFT,e.ROTATERIGHT=i.ROTATERIGHT,e.BITTEST=i.BITTEST,e.COMPLEMENT=i.COMPLEMENT,e.NEGATE=i.NEGATE,e.EXCHANGE=i.EXCHANGE,e.TRANSFER=i.TRANSFER,e.SIGNEXTEND=i.SIGNEXTEND,e.MULTIPLY=i.MULTIPLY,e.TESTOB=i.TESTOB,e.DECIMALADJUST=i.DECIMALADJUST,e.PUSHIR=i.PUSHIR,e.PULLCC=i.PULLCC,e.SETENTIRE=i.SETENTIRE,e.VECTORHIGH=i.VECTORHIGH,e.VECTORLOW=i.VECTORLOW,e.MASKIF=i.MASKIF,e.WAIT=i.WAIT,e.SYNC=i.SYNC,e.INDEX=i.INDEX,e.CLEAR=i.CLEAR,e}mapCodeToLambda(){const e={};return e[i.NEXT]=this.fetch_next_instruction_from_PC,e[i.FETCH]=this.fetch_next_instruction_from_PC,e[i.DIRECT]=this.build_direct_page_address_in_W,e[i.READHIGH]=this.read_next_high_data_byte_from_PC,e[i.READLOW]=this.read_next_low_data_byte_from_PC,e[i.READWLOW]=this.read_next_low_data_byte_to_W_from_PC,e[i.WRITEHIGH]=this.write_object_high_byte_to_AD,e[i.WRITELOW]=this.write_object_low_byte_to_AD,e[i.WRITEWLOW]=this.write_w_low_byte_to_AD,e[i.READADHIGH]=this.read_next_high_data_byte_from_AD,e[i.READADLOW]=this.read_next_low_data_byte_from_AD,e[i.READADWLOW]=this.read_next_low_data_byte_to_W_from_AD,e[i.SWAPWAD]=this.swap_internal_registers,e[i.TFRWTOOB]=this.transfer_w_to_object,e[i.TFRWTOTG]=this.transfer_w_to_target,e[i.TFROBTOTG]=this.transfer_object_to_target,e[i.TFRTGTOOB]=this.transfer_target_to_object,e[i.BUSY]=this.busy_state,e[i.ADDTGTOOB]=this.add_target_to_object,e[i.ADDPCTOOB]=this.add_pc_to_object,e[i.ADDCPCTOOB]=this.add_pc_to_object_with_carry,e[i.ADDTGBTOOB]=this.add_target_byte_to_object,e[i.ADDTGSTOOBIF]=this.add_target_signed_byte_value_to_object_if_condition_met,e[i.ADDTGSWTOOBIF]=this.add_target_signed_word_value_to_object_if_condition_met,e[i.ADDCTGTOOB]=this.add_target_to_object_with_carry,e[i.SUBPCFROMOB]=this.sub_pc_from_object,e[i.SUBCPCFROMOB]=this.sub_pc_with_carry_from_object,e[i.SUBTGFROMOB]=this.sub_target_value_from_object,e[i.SUBWFROMOB]=this.sub_w_from_object,e[i.SUBCTGFROMOB]=this.sub_target_value_with_carry_from_object,e[i.READLOWCOMPARE]=this.read_and_compare_low_byte,e[i.READADLOWCOMPARE]=this.read_ad_and_compare_low_byte,e[i.COMPAREW]=this.compare_w_with_word,e[i.INCOB]=this.inc_ob,e[i.DECOB]=this.dec_ob,e[i.INCW]=this.inc_w,e[i.DECW]=this.dec_w,e[i.PUSH]=this.push_reg_to_ad,e[i.PULL]=this.pull_reg_from_ad,e[i.PUSHPC]=this.push_pc_to_ad,e[i.PULLPC]=this.pull_pc_from_ad,e[i.READAND]=this.and_target_read,e[i.ANDCC]=this.and_control,e[i.READOR]=this.or_target_read,e[i.ORCC]=this.or_control,e[i.READEOR]=this.eor_target_read,e[i.SHIFTLEFT]=this.shift_left,e[i.SHIFTRIGHT]=this.shift_right,e[i.ROTATELEFT]=this.rotate_left,e[i.ROTATERIGHT]=this.rotate_right,e[i.BITTEST]=this.read_and_bit_test,e[i.COMPLEMENT]=this.complement_byte,e[i.NEGATE]=this.negate_byte,e[i.EXCHANGE]=this.exchange,e[i.TRANSFER]=this.transfer,e[i.SIGNEXTEND]=this.sign_extend,e[i.MULTIPLY]=this.multiply,e[i.TESTOB]=this.test_byte,e[i.DECIMALADJUST]=this.decimal_adjust,e[i.PUSHIR]=this.push_pc_and_cc,e[i.PULLCC]=this.pull_and_test_cc,e[i.SETENTIRE]=this.set_entire_flag,e[i.VECTORHIGH]=this.vector_msb,e[i.VECTORLOW]=this.vector_lsb,e[i.MASKIF]=this.suspend_interrupts,e[i.WAIT]=this.wait,e[i.SYNC]=this.sync,e[i.INDEX]=this.calculate_index_to_ad,e[i.CLEAR]=this.clear_register,e}mapInterruptLines(){const e=[];return e.reset=i.vRESET,e.nmi=i.vNMI,e.irq=i.vIRQ,e.firq=i.vFIRQ,e.swi=i.vSWI,e.swi2=i.vSWI2,e.swi3=i.vSWI3,e}mapStackOrder(){const e=[];return e[128]="PC",e[64]="US",e[32]="Y",e[16]="X",e[8]="DP",e[4]="B",e[2]="A",e[1]="CC",e}mapRegisterIdentifier(){const e=[];return e[0]="D",e[1]="X",e[2]="Y",e[3]="U",e[4]="S",e[5]="PC",e[8]="A",e[9]="B",e[10]="CC",e[11]="DP",e}mapPostbyteToRegister(){const e=[];return e[0]="X",e[1]="Y",e[2]="U",e[3]="S",e}populateCodeStack(e){this.code=[];for(let t=0;t<e.length;t++){if(void 0===this.codes[e[t]])throw new Error("unknown operation "+e[t]);this.code.unshift(this.codes[e[t]])}}setRegisterLiteral(e,t){"string"==typeof e&&(e=this.registers.get(e)),e instanceof r&&e.load(t)}setRegisterLiteralLow(e,t){if("string"==typeof e&&(e=this.registers.get(e)),e instanceof r&&e.size===i.LONG){const o=65280&e.fetch()|t;e.load(o)}}setRegisterLiteralHigh(e,t){if("string"==typeof e&&(e=this.registers.get(e)),e instanceof r&&e.size===i.LONG){const o=255&e.fetch()|t<<8;e.load(o)}}fetchNextByte(){let e=this.PC.fetch();const t=this.memory.read(e++);return this.PC.set(e),t}clearInstruction(){this.object=null,this.target=null,this.W.set(0),this.AD.set(0),this.code=[i.NEXT],this.operation=0,this.condition="",this.vector=65534}cycle(){if(this.interruptQueue.length>0&&this.code[0]===i.NEXT){const e=this.interruptQueue.shift();this.interruptUnmasked(e.name)?(this.serviceInterrupt(e),this.runState=i.RUNNING):this.runState===i.SYNCING&&(this.runState=i.RUNNING)}else this.runState===i.RUNNING&&this.executeNext()}interruptUnmasked(e){let t;switch(e){case"irq":t=this.CC.ifirqclear();break;case"firq":t=this.CC.iffirqclear();break;default:t=!0}return t}executeNext(){const e=this.code.pop(),t=this.lambdas[e];"function"==typeof t?t(this):this.operandException(e),0===this.code.length&&this.clearInstruction()}operandException(e){console.error("illegal microcode "+e+" at address "+this.PC.fetch())}identifyRegister(e){return this.registerIds[e]}callInterrupt(e){const t=this.interruptLines[e];void 0!==t&&this.interruptQueue.push(t)}serviceInterrupt(e){let t="fastVectorFromRun";this.runState===i.WAITING?t="vectorFromWait":e.entire&&(t="vectorFromRun");const o=this.instructions[t];o.vector=e.vector,o.mask=e.flags,this.interpretInstruction(o)}interpretInstruction(e){void 0!==e.object&&(this.object=this.registers.get(e.object)),void 0!==e.target&&(this.target=this.registers.get(e.target)),void 0!==e.condition&&(this.condition=e.condition),void 0!==e.vector&&(this.vector=e.vector),void 0!==e.mask&&(this.mask=e.mask),this.populateCodeStack(e.code)}swap_internal_registers(e){const t=e.W.fetch();e.W.set(e.AD.fetch()),e.AD.set(t)}add_target_to_object(e){e.W.set(e.object.fetch()+e.target.fetch())}add_pc_to_object(e){e.object.load(e.alu1.add8(e.object.fetch(),e.fetchNextByte()))}add_pc_to_object_with_carry(e){e.object.load(e.alu1.add8(e.object.fetch(),e.fetchNextByte(),(e.CC.save()&i.CARRY)===i.CARRY?1:0))}add_target_byte_to_object(e){e.object.size===i.SHORT?e.object.load(e.alu1.add8(e.object.fetch(),e.memory.read(e.target.fetch()))):e.object.load(e.alu1.add16(e.object.fetch(),e.target.fetch()))}add_target_signed_byte_value_to_object_if_condition_met(e){e.CC.test(e.condition)&&e.add_target_signed_byte_to_object(e)}add_target_signed_word_value_to_object_if_condition_met(e){e.CC.test(e.condition)&&(e.add_target_signed_word_to_object(e),e.code.push(i.BUSY))}add_target_signed_byte_to_object(e){let t=e.target.fetch();t>127&&(t-=256),e.object.set(e.object.fetch()+t)}add_target_signed_word_to_object(e){let t=e.target.fetch();t>32767&&(t-=65536),e.object.set(e.object.fetch()+t)}add_target_to_object_with_carry(e){e.object.load(e.alu1.add8(e.object.fetch(),e.memory.read(e.target.fetch()),(e.CC.save()&i.CARRY)===i.CARRY?1:0))}sub_pc_from_object(e){e.object.load(e.alu1.sub8(e.object.fetch(),e.fetchNextByte()))}sub_pc_with_carry_from_object(e){e.object.load(e.alu1.sub8(e.object.fetch(),e.fetchNextByte(e),(e.CC.save()&i.CARRY)===i.CARRY?1:0))}sub_target_value_from_object(e){e.object.size===i.SHORT?e.object.load(e.alu1.sub8(e.object.fetch(),e.memory.read(e.target.fetch()))):e.object.load(e.alu1.sub16(e.object.fetch(),e.target.fetch()))}sub_w_from_object(e){e.object.load(e.alu1.sub16(e.object.fetch(),e.W.fetch()))}sub_target_value_with_carry_from_object(e){e.object.load(e.alu1.sub8(e.object.fetch(),e.memory.read(e.target.fetch()),(e.CC.save()&i.CARRY)===i.CARRY?1:0))}multiply(e){e.registers.get("D").set(e.alu1.mul8(e.registers.get("A").fetch(),e.registers.get("B").fetch()))}test_byte(e){e.alu1.test8(e.object.fetch())}fetch_next_instruction_from_PC(e){const t=e.fetchNextByte(e);e.operation|=t;const o=e.instructions[e.operation];if(void 0===o)throw"illegal instruction "+e.operation;"fetch"===o.mode?(e.operation=t<<8,e.code=[i.FETCH]):e.interpretInstruction(o)}transfer_w_to_object(e){e.object.set(e.W.fetch()),e.W.set(0)}transfer_w_to_target(e){e.target.set(e.W.fetch()),e.W.set(0)}transfer_object_to_target(e){e.target.set(e.object.fetch())}transfer_target_to_object(e){e.object.set(e.target.fetch())}build_direct_page_address_in_W(e){e.W.set(e.registers.get("DP").fetch()<<8|e.fetchNextByte(e))}read_next_high_data_byte_from_PC(e){e.W.set(e.fetchNextByte(e)<<8)}read_next_low_data_byte_from_PC(e){e.object.load(e.W.fetch()|e.fetchNextByte(e))}read_next_high_data_byte_from_AD(e){let t=e.AD.fetch();const o=e.memory.read(t++);e.W.set(o<<8),e.AD.set(t)}read_next_low_data_byte_from_AD(e){e.object.load(e.W.fetch()|e.memory.read(e.AD.fetch()))}read_next_low_data_byte_to_W_from_PC(e){e.W.set(e.W.fetch()|e.fetchNextByte(e))}read_next_low_data_byte_to_W_from_AD(e){e.W.set(e.W.fetch()|e.memory.read(e.AD.fetch()))}write_object_high_byte_to_AD(e){let t=e.AD.fetch();e.memory.write(t++,(65280&e.object.fetch())>>8),e.AD.set(t)}write_object_low_byte_to_AD(e){e.memory.write(e.AD.fetch(),255&e.object.save())}write_w_low_byte_to_AD(e){e.memory.write(e.AD.fetch(),255&e.W.fetch())}busy_state(e){}read_and_compare_low_byte(e){e.compare_low_byte(e,e.fetchNextByte(e))}read_ad_and_compare_low_byte(e){e.compare_low_byte(e,e.memory.read(e.AD.fetch()))}compare_low_byte(e,t){e.W.set(t),e.twos_complement(this.W,i.SHORT);const o=e.W.fetch(),r=e.object.fetch(),c=o+r,a=255&c;e.check_cc(e,t,o,r,c,a)}compare_w_with_word(e){const t=e.W.fetch();e.twos_complement(e.W,i.LONG);const o=e.W.fetch(),r=e.object.fetch(),c=o+r,a=65535&c;e.check_cc(e,t,o,r,c,a)}clear_register(e){e.object.load(0),e.CC.carry(!1)}inc_ob(e){e.inc(e,e.object)}inc_w(e){e.inc(e,e.W)}inc(e,t){const o=1+(255&t.fetch());t.set(255&o);const r=t.fetch();e.CC.zero(0===r),e.CC.negative(!!(128&r)),e.CC.overflow(r!==o)}dec_ob(e){e.dec(e,e.object)}dec_w(e){e.dec(e,e.W)}dec(e,t){const o=(255&t.fetch())-1;t.set(o);const r=t.fetch();e.CC.zero(0===r),e.CC.negative(!!(128&r)),e.CC.overflow(r!==o)}and_target_read(e){"PC"===e.target.name?e.read_next_low_data_byte_to_W_from_PC(e):e.read_next_low_data_byte_to_W_from_AD(e),e.and_ob(e)}and_control(e){e.CC.value=e.alu1.and8(e.CC.value,e.W.fetch(),!1)}and_ob(e){e.object.set(e.alu1.and8(e.object.fetch(),e.W.fetch()))}or_target_read(e){"PC"===e.target.name?e.read_next_low_data_byte_to_W_from_PC(e):e.read_next_low_data_byte_to_W_from_AD(e),e.or_ob(e)}or_control(e){e.CC.value=e.alu1.or8(e.CC.value,e.W.fetch(),!1)}or_ob(e){e.object.set(e.alu1.or8(e.object.fetch(),e.W.fetch()))}eor_target_read(e){"PC"===e.target.name?e.read_next_low_data_byte_to_W_from_PC(e):e.read_next_low_data_byte_to_W_from_AD(e),e.object.set(e.alu1.eor8(e.object.fetch(),e.W.fetch()))}shift_left(e){e.object.set(e.alu1.shiftLeft8(e.object.fetch()))}rotate_left(e){e.object.set(e.alu1.shiftLeft8(e.object.fetch(),!0))}shift_right(e){e.object.set(e.alu1.shiftRight8(e.object.fetch()))}rotate_right(e){e.object.set(e.alu1.shiftRight8(e.object.fetch(),!0))}read_and_bit_test(e){const t=e.target.fetch();e.target===e.PC&&e.PC.set(t+1),e.alu1.and8(e.object.fetch(),e.memory.read(t))}complement_byte(e){e.object.set(e.alu1.complement8(e.object.fetch()))}negate_byte(e){e.object.set(e.alu1.negate8andTest(e.object.fetch()))}sign_extend(e){128&e.registers.get("B").fetch()?(e.registers.get("A").set(255),e.CC.negative(!0)):(e.registers.get("A").set(0),e.CC.negative(!1)),e.CC.zero(0===e.registers.get("D").fetch())}decimal_adjust(e){e.object.set(e.alu1.daa(e.object.fetch()))}exchange(e){const t=(240&e.W.fetch())>>4,o=15&e.W.fetch();if((8&t)==(8&o)){const r=e.identifyRegister(t),c=e.identifyRegister(o),i=e.registers.get(r).fetch();e.registers.get(r).set(e.registers.get(c).fetch()),e.registers.get(c).set(i)}}transfer(e){const t=(240&e.W.fetch())>>4,o=15&e.W.fetch();if((8&t)==(8&o)){const r=e.identifyRegister(t),c=e.identifyRegister(o);e.registers.get(c).set(e.registers.get(r).fetch())}}select_register(e,t){let o=e.stackOrder[t];return"US"===o&&(o="U"===e.object.name?"S":"U"),o}push_reg_to_ad(e){let t=128,o=!0,r=e.W.fetch();for(;o;)if((t&r)===t){e.W.set(r-=t),0!==r&&e.code.push(e.codes.PUSH);const c=e.select_register(e,t);let a=e.target.fetch();const d=e.registers.get(c),D=255&d.fetch();if(e.memory.write(a--,D),d.size===i.LONG){e.code.push(e.codes.BUSY);const t=(65280&d.fetch())>>8;e.memory.write(a--,t)}e.target.set(a),o=!1}else t>>=1,o=t>=1}pull_reg_from_ad(e){let t=1,o=!0,r=e.W.fetch();for(;o;)if((t&r)===t){e.W.set(r-=t),0!==r&&e.code.push(e.codes.PULL);const c=e.select_register(e,t);let a=e.target.fetch();const d=e.registers.get(c);let D=0;d.size===i.LONG&&(e.code.push(e.codes.BUSY),D+=e.memory.read(++a)<<8),D+=e.memory.read(++a),d.set(D),e.target.set(a),o=!1}else t<<=1,o=t<=256}push_pc_to_ad(e){let t=e.registers.get("S").fetch();const o=e.PC.fetch(),r=255&o;e.memory.write(t--,r);const c=(65280&o)>>8;e.memory.write(t--,c),e.registers.get("S").set(t)}pull_pc_from_ad(e){let t=e.target.fetch();const o=e.memory.read(++t)<<8,r=e.memory.read(++t);e.PC.set(o|r),e.target.set(t)}pull_and_test_cc(e){let t=e.target.fetch();e.CC.value=e.memory.read(++t),e.target.set(t),e.CC.ifentireset()&&(e.code.push(e.codes.PULL),e.W.set(126))}push_pc_and_cc(e){e.W.set(129),e.push_reg_to_ad(e)}set_entire_flag(e){e.CC.entire(!0),e.W.set(255)}vector_msb(e){const t=e.memory.read(e.vector);e.PC.set(t<<8)}vector_lsb(e){const t=e.memory.read(e.vector+1);e.PC.set(e.PC.fetch()|t)}suspend_interrupts(e){e.CC.irq(!!(e.mask&i.IRQ)),e.CC.firq(!!(e.mask&i.FIRQ))}wait(e){e.runState=i.WAITING}sync(e){e.runState=i.SYNCING}calculate_index_to_ad(e){const t=e.W.fetch();e.W.set(0);const o=e.postbyte_to_register(e,t),r=!!(16&~t);let c=31&t;if(128&~t)e.target.set(e.direct_constant_offset(e,c,o));else if(r)switch(31&t){case 0:e.target.set(e.direct_increment(e,1,o));break;case 1:e.target.set(e.direct_increment(e,2,o));break;case 2:e.target.set(e.direct_decrement(e,1,o));break;case 3:e.target.set(e.direct_decrement(e,2,o));break;case 4:e.target.set(o.fetch());break;case 5:e.target.set(e.direct_byte_offset(e,e.registers.get("B").fetch(),o));break;case 6:e.target.set(e.direct_byte_offset(e,e.registers.get("A").fetch(),o));break;case 8:e.target.set(e.direct_byte_offset(e,e.fetchNextByte(e),o));break;case 9:e.target.set(e.direct_word_offset(e,(e.fetchNextByte(e)<<8)+e.fetchNextByte(e),o));break;case 11:e.target.set(e.direct_word_offset(e,e.registers.get("D").fetch(),o));break;case 12:e.target.set(e.direct_byte_offset(e,e.fetchNextByte(e),e.PC));break;case 13:e.target.set(e.direct_word_offset(e,(e.fetchNextByte(e)<<8)+e.fetchNextByte(e),e.PC)),e.code.push(e.codes.BUSY)}else{switch((31&t)-16){case 1:e.target.set(e.direct_increment(e,2,o));break;case 3:e.target.set(e.direct_decrement(e,2,o));break;case 4:e.target.set(o.fetch());break;case 5:e.target.set(e.direct_byte_offset(e,e.registers.get("B").fetch(),o));break;case 6:e.target.set(e.direct_byte_offset(e,e.registers.get("A").fetch(),o));break;case 8:e.target.set(e.direct_byte_offset(e,e.fetchNextByte(e),o));break;case 9:e.target.set(e.direct_word_offset(e,(e.fetchNextByte(e)<<8)+e.fetchNextByte(e),o));break;case 11:e.target.set(e.direct_word_offset(e,e.registers.get("D").fetch(),o));break;case 12:e.target.set(e.direct_byte_offset(e,e.fetchNextByte(e),e.PC));break;case 13:e.target.set(e.direct_word_offset(e,(e.fetchNextByte(e)<<8)+e.fetchNextByte(e),e.PC)),e.code.push(e.codes.BUSY);break;case 15:e.target.set((e.fetchNextByte(e)<<8)+e.fetchNextByte(e)),e.code.push(e.codes.BUSY),e.code.push(e.codes.BUSY)}e.code.push(e.codes.SWAPWAD),e.code.push(e.codes.READADWLOW),e.code.push(e.codes.READADHIGH)}}direct_constant_offset(e,t,o){return e.code.push(e.codes.BUSY),e.alu1.offsetEA5(t,o.fetch())}direct_byte_offset(e,t,o){return e.code.push(e.codes.BUSY),e.alu1.offsetEA8(t,o.fetch())}direct_word_offset(e,t,o){return e.code.push(e.codes.BUSY),e.code.push(e.codes.BUSY),e.code.push(e.codes.BUSY),e.code.push(e.codes.BUSY),e.alu1.offsetEA16(t,o.fetch())}direct_increment(e,t,o){for(let o=0;o<=t;++o)e.code.push(e.codes.BUSY);const r=o.fetch();return o.set(r+t),r}direct_decrement(e,t,o){for(let o=0;o<=t;++o)e.code.push(e.codes.BUSY);const r=o.fetch()-t;return o.set(r),r}postbyte_to_register(e,t){const o=(96&t)>>5;return e.registers.get(e.postbyteRegisters[o])}check_cc(e,t,o,r,c,i){e.CC.zero(0===i),e.CC.negative(!!(128&i)),e.CC.overflow(c!==i),e.CC.carry(t<r)}twos_complement(e,t){let o=e.fetch(),r=65535;t===i.SHORT&&(r=255),o&=r,o=this.xor(o,t),o+=1,e.set(o)}xor(e,t){let o=1,r=0;for(let c=0;c<t;c++)e&o||(r|=o),o<<=1;return r}}}},109:function(e,t,o){const r=o(885)(t);r("SHORT",8),r("LONG",16),r("RUNNING",1),r("WAITING",2),r("SYNCING",3),r("CARRY",1),r("OVERFLOW",2),r("ZERO",4),r("NEGATIVE",8),r("IRQ",16),r("HALFCARRY",32),r("FIRQ",64),r("ENTIRE",128),r("vSWI3",{name:"swi3",vector:65522,entire:!0,flags:0}),r("vSWI2",{name:"swi2",vector:65524,entire:!0,flags:0}),r("vFIRQ",{name:"firq",vector:65526,entire:!1,flags:this.IRQ|this.FIRQ}),r("vIRQ",{name:"irq",vector:65528,entire:!0,flags:this.IRQ}),r("vSWI",{name:"swi",vector:65530,entire:!0,flags:this.IRQ|this.FIRQ}),r("vNMI",{name:"nmi",vector:65532,entire:!0,flags:this.IRQ|this.FIRQ}),r("vRESET",{name:"reset",vector:65534,entire:!0,flags:this.IRQ|this.FIRQ}),r("NEXT",0),r("FETCH",1),r("DIRECT",2),r("TFRWTOOB",3),r("TFRWTOTG",4),r("WRITEHIGH",5),r("WRITELOW",6),r("READHIGH",7),r("READLOW",8),r("READADHIGH",9),r("READADLOW",10),r("ADDTGTOOB",11),r("BUSY",12),r("READWLOW",13),r("READLOWCOMPARE",14),r("READADLOWCOMPARE",15),r("COMPAREW",16),r("READADWLOW",17),r("INCOB",18),r("DECOB",19),r("INCW",20),r("DECW",21),r("WRITEWLOW",22),r("TFROBTOTG",23),r("TFRTGTOOB",24),r("PUSH",25),r("PULL",26),r("CUEPC",27),r("ADDPCTOOB",28),r("ADDTGBTOOB",29),r("SUBPCFROMOB",30),r("SUBTGFROMOB",31),r("SWAPWAD",32),r("PUSHPC",33),r("PULLPC",34),r("SUBCPCFROMOB",35),r("SUBCTGFROMOB",36),r("ADDCPCTOOB",37),r("ADDCTGTOOB",38),r("ADDTGSTOOBIF",39),r("ADDTGSWTOOBIF",40),r("READAND",41),r("ANDCC",42),r("READOR",43),r("ORCC",44),r("READEOR",45),r("SHIFTLEFT",46),r("SHIFTRIGHT",47),r("ROTATELEFT",48),r("ROTATERIGHT",49),r("BITTEST",50),r("COMPLEMENT",51),r("NEGATE",52),r("EXCHANGE",53),r("TRANSFER",54),r("SIGNEXTEND",55),r("MULTIPLY",56),r("TESTOB",57),r("DECIMALADJUST",58),r("PULLCC",59),r("SETENTIRE",60),r("VECTORHIGH",61),r("VECTORLOW",62),r("MASKIF",63),r("WAIT",64),r("PUSHIR",65),r("SYNC",66),r("INDEX",67),r("CLEAR",68),r("SUBWFROMOB",69)},775:(e,t,o)=>{const r=o(109);e.exports={CpuRegister:class{constructor(e,t,o){this.size=e,this.name=t,this.value=0,this.control=o,8===e?(this.valueMask=255,this.negativeMask=128):(this.valueMask=65535,this.negativeMask=32768)}cc(e,t){void 0!==this.control&&(e?this.control.set(t):this.control.clear(t))}overflow(e){this.cc(e,r.OVERFLOW)}zero(e){this.cc(e,r.ZERO)}negative(e){this.cc(e,r.NEGATIVE)}load(e){this.value=e&this.valueMask,this.testValue()}save(){return this.testValue(),this.value}fetch(){return this.value}set(e){this.value=e&this.valueMask}testValue(){this.zero(0===this.value),this.negative((this.value&this.negativeMask)>0),this.overflow(!1)}}}},832:(e,t,o)=>{const r=o(109);instructions={0:{operation:"NEG",mode:"direct",object:"W",code:["DIRECT","SWAPWAD","READWLOW","NEGATE","WRITEWLOW"]},3:{operation:"COM",mode:"direct",object:"W",code:["DIRECT","SWAPWAD","READWLOW","COMPLEMENT","WRITEWLOW"]},6:{operation:"ROR",mode:"direct",object:"W",code:["DIRECT","SWAPWAD","READWLOW","ROTATERIGHT","WRITEWLOW"]},7:{operation:"ASR",mode:"direct",object:"W",code:["DIRECT","SWAPWAD","READWLOW","SHIFTRIGHT","WRITEWLOW"]},8:{operation:"ASL",mode:"direct",object:"W",code:["DIRECT","SWAPWAD","READWLOW","SHIFTLEFT","WRITEWLOW"]},9:{operation:"ROL",mode:"direct",object:"W",code:["DIRECT","SWAPWAD","READWLOW","ROTATELEFT","WRITEWLOW"]},10:{operation:"DEC",mode:"direct",object:"W",code:["DIRECT","SWAPWAD","READADWLOW","DECW","WRITEWLOW"]},12:{operation:"INC",mode:"direct",object:"W",code:["DIRECT","SWAPWAD","READADWLOW","INCW","WRITEWLOW"]},13:{operation:"TST",object:"W",target:"AD",code:["DIRECT","SWAPWAD","READWLOW","TESTOB","BUSY"]},14:{operation:"JMP",mode:"direct",object:"PC",code:["DIRECT","TFRWTOOB"]},15:{operation:"CLR",mode:"direct",object:"W",code:["DIRECT","SWAPWAD","CLEAR","WRITELOW","BUSY"]},16:{operation:"extended instruction",mode:"fetch"},4129:{operation:"LBRN",mode:"relative",object:"PC",target:"W",condition:"never",code:["READHIGH","READWLOW","ADDTGSWTOOBIF"]},4130:{operation:"LBHI",object:"PC",target:"W",condition:"higher",code:["READHIGH","READWLOW","ADDTGSWTOOBIF"]},4131:{operation:"LBLS",object:"PC",target:"W",condition:"lowerorsame",code:["READHIGH","READWLOW","ADDTGSWTOOBIF"]},4132:{operation:"LBCC",object:"PC",target:"W",condition:"carryclear",code:["READHIGH","READWLOW","ADDTGSWTOOBIF"]},4133:{operation:"LBCS",object:"PC",target:"W",condition:"carryset",code:["READHIGH","READWLOW","ADDTGSWTOOBIF"]},4134:{operation:"LBNE",object:"PC",target:"W",condition:"notequal",code:["READHIGH","READWLOW","ADDTGSWTOOBIF"]},4135:{operation:"LBEQ",object:"PC",target:"W",condition:"equal",code:["READHIGH","READWLOW","ADDTGSWTOOBIF"]},4136:{operation:"LBVC",object:"PC",target:"W",condition:"notoverflow",code:["READHIGH","READWLOW","ADDTGSWTOOBIF"]},4137:{operation:"LBVS",object:"PC",target:"W",condition:"overflow",code:["READHIGH","READWLOW","ADDTGSWTOOBIF"]},4138:{operation:"LBPL",object:"PC",target:"W",condition:"positive",code:["READHIGH","READWLOW","ADDTGSWTOOBIF"]},4139:{operation:"LBMI",object:"PC",target:"W",condition:"negative",code:["READHIGH","READWLOW","ADDTGSWTOOBIF"]},4140:{operation:"LBGE",object:"PC",target:"W",condition:"greaterorequal",code:["READHIGH","READWLOW","ADDTGSWTOOBIF"]},4141:{operation:"LBLT",object:"PC",target:"W",condition:"lessthan",code:["READHIGH","READWLOW","ADDTGSWTOOBIF"]},4142:{operation:"LBGT",object:"PC",target:"W",condition:"greaterthan",code:["READHIGH","READWLOW","ADDTGSWTOOBIF"]},4143:{operation:"LBLE",object:"PC",target:"W",condition:"lessorequal",code:["READHIGH","READWLOW","ADDTGSWTOOBIF"]},4159:{operation:"SWI2",mode:"inherent",object:"S",target:"AD",vector:r.vSWI2.vector,mask:0,code:["SETENTIRE","TFROBTOTG","PUSH","TFRTGTOOB","VECTORHIGH","VECTORLOW","MASKIF"]},4227:{operation:"CMPD",mode:"immediate",object:"D",code:["READHIGH","READWLOW","COMPAREW"]},4236:{operation:"CMPY",mode:"immediate",object:"Y",code:["READHIGH","READWLOW","COMPAREW"]},4238:{operation:"LDY",mode:"immediate",object:"Y",code:["READHIGH","READLOW"]},4243:{operation:"CMPD",mode:"direct",object:"D",target:"AD",code:["DIRECT","TFRWTOTG","READADHIGH","READADWLOW","COMPAREW"]},4252:{operation:"CMPY",mode:"direct",object:"Y",target:"AD",code:["DIRECT","TFRWTOTG","READADHIGH","READADWLOW","COMPAREW"]},4254:{operation:"LDY",mode:"direct",object:"Y",target:"AD",code:["DIRECT","TFRWTOTG","READADHIGH","READADLOW"]},4255:{operation:"STY",mode:"direct",object:"Y",target:"AD",code:["DIRECT","TFRWTOTG","WRITEHIGH","WRITELOW"]},4259:{operation:"CMPD",mode:"indexed",object:"D",target:"AD",code:["READWLOW","INDEX","READADHIGH","READADWLOW","COMPAREW"]},4268:{operation:"CMPY",mode:"indexed",object:"Y",target:"AD",code:["READWLOW","INDEX","READADHIGH","READADWLOW","COMPAREW"]},4270:{operation:"LDY",mode:"direct",object:"Y",target:"AD",code:["READWLOW","INDEX","READADHIGH","READADLOW"]},4271:{operation:"STY",mode:"indexed",object:"Y",target:"AD",code:["READWLOW","INDEX","WRITEHIGH","WRITELOW"]},4275:{operation:"CMPD",mode:"extended",object:"D",target:"AD",code:["READHIGH","READWLOW","TFRWTOTG","READADHIGH","READADWLOW","COMPAREW"]},4284:{operation:"CMPY",mode:"extended",object:"Y",target:"AD",code:["READHIGH","READWLOW","TFRWTOTG","READADHIGH","READADWLOW","COMPAREW"]},4286:{operation:"LDY",mode:"extended",object:"Y",target:"AD",code:["READHIGH","READWLOW","TFRWTOTG","READADHIGH","READADLOW"]},4287:{operation:"STY",mode:"extended",object:"Y",target:"AD",code:["READHIGH","READWLOW","TFRWTOTG","WRITEHIGH","WRITELOW"]},4302:{operation:"LDS",mode:"immediate",object:"S",code:["READHIGH","READLOW"]},4318:{operation:"LDS",mode:"direct",object:"S",target:"AD",code:["DIRECT","TFRWTOTG","READADHIGH","READADLOW"]},4319:{operation:"STS",mode:"direct",object:"S",target:"AD",code:["DIRECT","TFRWTOTG","WRITEHIGH","WRITELOW"]},4334:{operation:"LDS",mode:"direct",object:"S",target:"AD",code:["READWLOW","INDEX","READADHIGH","READADLOW"]},4335:{operation:"STS",mode:"indexed",object:"S",target:"AD",code:["READWLOW","INDEX","WRITEHIGH","WRITELOW"]},4350:{operation:"LDS",mode:"extended",object:"S",target:"AD",code:["READHIGH","READWLOW","TFRWTOTG","READADHIGH","READADLOW"]},4351:{operation:"STS",mode:"extended",object:"S",target:"AD",code:["READHIGH","READWLOW","TFRWTOTG","WRITEHIGH","WRITELOW"]},17:{operation:"extended instruction",mode:"fetch"},4415:{operation:"SWI3",mode:"inherent",object:"S",target:"AD",vector:r.vSWI3.vector,mask:0,code:["SETENTIRE","TFROBTOTG","PUSH","TFRTGTOOB","VECTORHIGH","VECTORLOW","MASKIF"]},4483:{operation:"CMPU",mode:"immediate",object:"U",code:["READHIGH","READWLOW","COMPAREW"]},4492:{operation:"CMPS",mode:"immediate",object:"S",code:["READHIGH","READWLOW","COMPAREW"]},4499:{operation:"CMPU",mode:"direct",object:"U",target:"AD",code:["DIRECT","TFRWTOTG","READADHIGH","READADWLOW","COMPAREW"]},4508:{operation:"CMPS",mode:"direct",object:"S",target:"AD",code:["DIRECT","TFRWTOTG","READADHIGH","READADWLOW","COMPAREW"]},4515:{operation:"CMPU",mode:"extended",object:"U",target:"AD",code:["READWLOW","INDEX","READADHIGH","READADWLOW","COMPAREW"]},4524:{operation:"CMPS",mode:"extended",object:"S",target:"AD",code:["READWLOW","INDEX","READADHIGH","READADWLOW","COMPAREW"]},4531:{operation:"CMPU",mode:"extended",object:"U",target:"AD",code:["READHIGH","READWLOW","TFRWTOTG","READADHIGH","READADWLOW","COMPAREW"]},4540:{operation:"CMPS",mode:"extended",object:"S",target:"AD",code:["READHIGH","READWLOW","TFRWTOTG","READADHIGH","READADWLOW","COMPAREW"]},18:{operation:"NOP",code:["BUSY"]},19:{operation:"SYNC",code:["SYNC"]},22:{operation:"LBRA",mode:"relative",object:"PC",target:"W",condition:"always",code:["READHIGH","READWLOW","ADDTGSWTOOBIF"]},23:{operation:"LBSR",mode:"relative",object:"PC",target:"W",condition:"always",code:["READHIGH","READWLOW","PUSHPC","ADDTGSWTOOBIF","BUSY","BUSY","BUSY"]},25:{operation:"DAA",mode:"inherent",object:"A",code:["DECIMALADJUST"]},26:{operation:"ORCC",mode:"immediate",object:"CC",target:"AD",code:["READWLOW","ORCC"]},28:{operation:"ANDCC",mode:"immediate",object:"CC",target:"AD",code:["READWLOW","ANDCC"]},29:{operation:"SEX",mode:"inherent",code:["SIGNEXTEND"]},30:{operation:"EXG",mode:"inherent",object:"W",code:["READLOW","EXCHANGE","BUSY","BUSY","BUSY","BUSY","BUSY"]},31:{operation:"EXG",mode:"inherent",object:"W",code:["READLOW","TRANSFER","BUSY","BUSY","BUSY","BUSY"]},32:{operation:"BRA",mode:"relative",object:"PC",target:"W",condition:"always",code:["READWLOW","ADDTGSTOOBIF"]},33:{operation:"BRN",object:"PC",target:"W",condition:"never",code:["READWLOW","ADDTGSTOOBIF"]},34:{operation:"BHI",object:"PC",target:"W",condition:"higher",code:["READWLOW","ADDTGSTOOBIF"]},35:{operation:"BLS",object:"PC",target:"W",condition:"lowerorsame",code:["READWLOW","ADDTGSTOOBIF"]},36:{operation:"BCC",object:"PC",target:"W",condition:"carryclear",code:["READWLOW","ADDTGSTOOBIF"]},37:{operation:"BCS",object:"PC",target:"W",condition:"carryset",code:["READWLOW","ADDTGSTOOBIF"]},38:{operation:"BNE",object:"PC",target:"W",condition:"notequal",code:["READWLOW","ADDTGSTOOBIF"]},39:{operation:"BEQ",object:"PC",target:"W",condition:"equal",code:["READWLOW","ADDTGSTOOBIF"]},40:{operation:"BVC",object:"PC",target:"W",condition:"notoverflow",code:["READWLOW","ADDTGSTOOBIF"]},41:{operation:"BVS",object:"PC",target:"W",condition:"overflow",code:["READWLOW","ADDTGSTOOBIF"]},42:{operation:"BPL",object:"PC",target:"W",condition:"positive",code:["READWLOW","ADDTGSTOOBIF"]},43:{operation:"BMI",object:"PC",target:"W",condition:"negative",code:["READWLOW","ADDTGSTOOBIF"]},44:{operation:"BGE",object:"PC",target:"W",condition:"greaterorequal",code:["READWLOW","ADDTGSTOOBIF"]},45:{operation:"BLT",object:"PC",target:"W",condition:"lessthan",code:["READWLOW","ADDTGSTOOBIF"]},46:{operation:"BGT",object:"PC",target:"W",condition:"greaterthan",code:["READWLOW","ADDTGSTOOBIF"]},47:{operation:"BLE",object:"PC",target:"W",condition:"lessorequal",code:["READWLOW","ADDTGSTOOBIF"]},48:{operation:"LEAX",mode:"indexed",object:"X",target:"AD",code:["READWLOW","INDEX","TFRTGTOOB"]},49:{operation:"LEAY",mode:"indexed",object:"Y",target:"AD",code:["READWLOW","INDEX","TFRTGTOOB"]},50:{operation:"LEAS",mode:"indexed",object:"S",target:"AD",code:["READWLOW","INDEX","TFRTGTOOB"]},51:{operation:"LEAU",mode:"indexed",object:"U",target:"AD",code:["READWLOW","INDEX","TFRTGTOOB"]},52:{operation:"PSHS",object:"S",target:"AD",code:["READWLOW","TFROBTOTG","PUSH","TFRTGTOOB","BUSY"]},53:{operation:"PULS",object:"S",target:"AD",code:["READWLOW","TFROBTOTG","PULL","TFRTGTOOB","BUSY"]},54:{operation:"PSHU",object:"U",target:"AD",code:["READWLOW","TFROBTOTG","PUSH","TFRTGTOOB","BUSY"]},55:{operation:"PULU",object:"U",target:"AD",code:["READWLOW","TFROBTOTG","PULL","TFRTGTOOB","BUSY"]},58:{operation:"ABX",object:"X",target:"B",code:["ADDTGTOOB","TFRWTOOB"]},57:{operation:"RTS",mode:"immediate",object:"S",target:"AD",code:["TFROBTOTG","PULLPC","TFRTGTOOB","BUSY"]},59:{operation:"RTI",mode:"inherent",object:"S",target:"AD",code:["TFROBTOTG","PULLCC","PULLPC","TFRTGTOOB","BUSY"]},60:{operation:"CWAI",mode:"immediate",object:"S",target:"AD",code:["READWLOW","ANDCC","SETENTIRE","TFROBTOTG","PUSH","TFRTGTOOB","BUSY","WAIT"]},61:{operation:"MUL",mode:"inherent",code:["MULTIPLY","BUSY","BUSY","BUSY","BUSY","BUSY","BUSY","BUSY","BUSY","BUSY"]},63:{operation:"SWI",mode:"inherent",object:"S",target:"AD",vector:r.vSWI.vector,mask:r.IRQ|r.FIRQ,code:["SETENTIRE","TFROBTOTG","PUSH","TFRTGTOOB","VECTORHIGH","VECTORLOW","MASKIF"]},64:{operation:"NEGA",mode:"inherent",object:"A",code:["NEGATE"]},67:{operation:"COMA",mode:"inherent",object:"A",code:["COMPLEMENT"]},70:{operation:"RORA",mode:"inherent",object:"A",code:["ROTATERIGHT"]},71:{operation:"ASRA",mode:"inherent",object:"A",code:["SHIFTRIGHT"]},72:{operation:"ASLA",mode:"inherent",object:"A",code:["SHIFTLEFT"]},73:{operation:"ROLA",mode:"inherent",object:"A",code:["ROTATELEFT"]},74:{operation:"DECA",mode:"inherent",object:"A",code:["DECOB"]},76:{operation:"INCA",mode:"inherent",object:"A",code:["INCOB"]},77:{operation:"TSTA",mode:"inherent",object:"A",code:["TESTOB"]},79:{operation:"CLRA",mode:"inherent",object:"A",code:["CLEAR"]},80:{operation:"NEGB",mode:"inherent",object:"B",code:["NEGATE"]},83:{operation:"COMB",mode:"inherent",object:"B",code:["COMPLEMENT"]},86:{operation:"RORB",mode:"inherent",object:"B",code:["ROTATERIGHT"]},87:{operation:"ASRB",mode:"inherent",object:"B",code:["SHIFTRIGHT"]},88:{operation:"ASLB",mode:"inherent",object:"B",code:["SHIFTLEFT"]},89:{operation:"ROLB",mode:"inherent",object:"B",code:["ROTATELEFT"]},90:{operation:"DECB",mode:"inherent",object:"B",code:["DECOB"]},92:{operation:"INCB",mode:"inherent",object:"B",code:["INCOB"]},93:{operation:"TSTB",mode:"inherent",object:"B",code:["TESTOB"]},95:{operation:"CLRB",mode:"inherent",object:"B",code:["CLEAR"]},96:{operation:"NEG",mode:"indexed",object:"W",target:"AD",code:["READWLOW","INDEX","READWLOW","NEGATE","WRITEWLOW"]},99:{operation:"COM",mode:"indexed",object:"W",target:"AD",code:["READWLOW","INDEX","READWLOW","COMPLEMENT","WRITEWLOW"]},102:{operation:"ROR",mode:"indexed",object:"W",target:"AD",code:["READWLOW","INDEX","READWLOW","ROTATERIGHT","WRITEWLOW"]},103:{operation:"ASR",mode:"indexed",object:"W",target:"AD",code:["READWLOW","INDEX","READADWLOW","SHIFTRIGHT","WRITEWLOW"]},104:{operation:"ASL",mode:"indexed",object:"W",target:"AD",code:["READWLOW","INDEX","READADWLOW","SHIFTLEFT","WRITEWLOW"]},105:{operation:"ROL",mode:"indexed",object:"W",target:"AD",code:["READWLOW","INDEX","READWLOW","ROTATELEFT","WRITEWLOW"]},106:{operation:"DEC",mode:"indexed",object:"W",target:"AD",code:["READWLOW","INDEX","READADWLOW","DECW","WRITEWLOW"]},108:{operation:"INC",mode:"indexed",object:"W",target:"AD",code:["READWLOW","INDEX","READADWLOW","INCW","WRITEWLOW"]},109:{operation:"TST",mode:"indexed",object:"W",target:"AD",code:["READWLOW","INDEX","READWLOW","TESTOB","BUSY"]},110:{operation:"JMP",mode:"indexed",object:"PC",target:"PC",code:["READWLOW","INDEX"]},111:{operation:"CLR",mode:"indexed",object:"W",target:"AD",code:["READWLOW","INDEX","CLEAR","WRITELOW","BUSY"]},112:{operation:"NEG",mode:"extended",object:"W",code:["READHIGH","READLOW","SWAPWAD","READWLOW","NEGATE","WRITEWLOW"]},115:{operation:"COM",mode:"extended",object:"W",code:["READHIGH","READLOW","SWAPWAD","READWLOW","COMPLEMENT","WRITEWLOW"]},118:{operation:"ROR",mode:"extended",object:"W",code:["READHIGH","READLOW","SWAPWAD","READWLOW","ROTATERIGHT","WRITEWLOW"]},119:{operation:"ASR",mode:"extended",object:"W",code:["READHIGH","READLOW","SWAPWAD","READWLOW","SHIFTRIGHT","WRITEWLOW"]},120:{operation:"ASL",mode:"extended",object:"W",code:["READHIGH","READLOW","SWAPWAD","READWLOW","SHIFTLEFT","WRITEWLOW"]},121:{operation:"ROL",mode:"extended",object:"W",code:["READHIGH","READLOW","SWAPWAD","READWLOW","ROTATELEFT","WRITEWLOW"]},122:{operation:"DEC",mode:"extended",object:"AD",code:["READHIGH","READLOW","READADWLOW","DECW","WRITEWLOW"]},124:{operation:"INC",mode:"extended",object:"AD",code:["READHIGH","READLOW","READADWLOW","INCW","WRITEWLOW"]},125:{operation:"TST",mode:"extended",object:"W",target:"AD",code:["READHIGH","READWLOW","SWAPWAD","READWLOW","TESTOB","BUSY"]},126:{operation:"JMP",mode:"extended",object:"PC",code:["READHIGH","READWLOW","TFRWTOOB"]},127:{operation:"CLR",mode:"extended",object:"W",code:["READHIGH","READWLOW","SWAPWAD","CLEAR","WRITELOW","BUSY"]},128:{operation:"SUBA",mode:"immediate",object:"A",target:"PC",code:["SUBPCFROMOB"]},129:{operation:"CMPA",mode:"immediate",object:"A",code:["READLOWCOMPARE"]},130:{operation:"SBCA",mode:"immediate",object:"A",target:"PC",code:["SUBCPCFROMOB"]},131:{operation:"SUBD",mode:"immediate",object:"D",target:"W",code:["READHIGH","READWLOW","SUBTGFROMOB"]},132:{operation:"ANDA",mode:"immediate",object:"A",target:"PC",code:["READAND"]},133:{operation:"BITA",mode:"immediate",object:"A",target:"PC",code:["BITTEST"]},134:{operation:"LDA",mode:"immediate",object:"A",code:["READLOW"]},136:{operation:"EORA",mode:"immediate",object:"A",target:"PC",code:["READEOR"]},137:{operation:"ADCA",mode:"immediate",object:"A",target:"PC",code:["ADDCPCTOOB"]},138:{operation:"ORA",mode:"immediate",object:"A",target:"PC",code:["READOR"]},139:{operation:"ADDA",mode:"immediate",object:"A",target:"PC",code:["ADDPCTOOB"]},140:{operation:"CMPX",mode:"immediate",object:"X",code:["READHIGH","READWLOW","COMPAREW"]},141:{operation:"BSR",mode:"immediate",object:"PC",target:"W",condition:"always",code:["READWLOW","PUSHPC","ADDTGSTOOBIF","BUSY","BUSY","BUSY"]},142:{operation:"LDX",mode:"immediate",object:"X",code:["READHIGH","READLOW"]},144:{operation:"SUBA",mode:"direct",object:"A",target:"AD",code:["DIRECT","TFRWTOTG","SUBTGFROMOB"]},145:{operation:"CMPA",mode:"direct",object:"A",target:"AD",code:["DIRECT","TFRWTOTG","READADLOWCOMPARE"]},146:{operation:"SBCA",mode:"direct",object:"A",target:"PC",code:["DIRECT","TFRWTOTG","SUBCTGFROMOB"]},147:{operation:"SUBD",mode:"direct",object:"D",target:"W",code:["DIRECT","SWAPWAD","READADHIGH","READADWLOW","SUBTGFROMOB"]},148:{operation:"ANDA",mode:"direct",object:"A",target:"AD",code:["DIRECT","TFRWTOTG","READAND"]},149:{operation:"BITA",mode:"direct",object:"A",target:"AD",code:["DIRECT","SWAPWAD","BITTEST"]},150:{operation:"LDA",mode:"direct",object:"A",target:"AD",code:["DIRECT","TFRWTOTG","READADLOW"]},151:{operation:"STA",mode:"direct",object:"A",target:"AD",code:["DIRECT","TFRWTOTG","WRITELOW"]},152:{operation:"EORA",mode:"direct",object:"A",target:"AD",code:["DIRECT","TFRWTOTG","READEOR"]},153:{operation:"ADCA",mode:"direct",object:"A",target:"PC",code:["DIRECT","TFRWTOTG","ADDCTGTOOB"]},154:{operation:"ORA",mode:"direct",object:"A",target:"AD",code:["DIRECT","TFRWTOTG","READOR"]},155:{operation:"ADDA",mode:"direct",object:"A",target:"AD",code:["DIRECT","TFRWTOTG","ADDTGBTOOB"]},156:{operation:"CMPX",mode:"direct",object:"X",target:"AD",code:["DIRECT","TFRWTOTG","READADHIGH","READADWLOW","COMPAREW"]},157:{operation:"JSR",mode:"direct",object:"PC",code:["DIRECT","PUSHPC","TFRWTOOB","BUSY","BUSY","BUSY"]},158:{operation:"LDX",mode:"direct",object:"X",target:"AD",code:["DIRECT","TFRWTOTG","READADHIGH","READADLOW"]},159:{operation:"STX",mode:"direct",object:"X",target:"AD",code:["DIRECT","TFRWTOTG","WRITEHIGH","WRITELOW"]},160:{operation:"SUBA",mode:"indexed",object:"A",target:"AD",code:["READWLOW","INDEX","SUBTGFROMOB"]},161:{operation:"CMPA",mode:"indexed",object:"A",target:"AD",code:["READWLOW","INDEX","READADLOWCOMPARE"]},162:{operation:"SBCA",mode:"indexed",object:"A",target:"AD",code:["READWLOW","INDEX","SUBCTGFROMOB"]},163:{operation:"SUBD",mode:"indexed",object:"D",target:"AD",code:["READWLOW","INDEX","READADHIGH","READADWLOW","SUBWFROMOB"]},164:{operation:"ANDA",mode:"indexed",object:"A",target:"AD",code:["READWLOW","INDEX","READAND"]},165:{operation:"BITA",mode:"indexed",object:"A",target:"AD",code:["READWLOW","INDEX","BITTEST"]},166:{operation:"LDA",mode:"indexed",object:"A",target:"AD",code:["READWLOW","INDEX","READADLOW"]},167:{operation:"STA",mode:"indexed",object:"A",target:"AD",code:["READWLOW","INDEX","WRITELOW"]},168:{operation:"EORA",mode:"indexed",object:"A",target:"AD",code:["READWLOW","INDEX","READEOR"]},169:{operation:"ADCA",mode:"indexed",object:"A",target:"PC",code:["READWLOW","INDEX","ADDCTGTOOB"]},170:{operation:"ORA",mode:"index",object:"A",target:"AD",code:["READWLOW","INDEX","READOR"]},171:{operation:"ADDA",mode:"indexed",object:"A",target:"AD",code:["READWLOW","INDEX","ADDTGBTOOB"]},172:{operation:"CMPX",mode:"indexed",object:"X",target:"AD",code:["READWLOW","INDEX","READADHIGH","READADWLOW","COMPAREW"]},173:{operation:"JSR",mode:"indexed",object:"PC",target:"AD",code:["READWLOW","INDEX","PUSHPC","SWAPWAD","TFRWTOOB","BUSY"]},174:{operation:"LDX",mode:"indexed",object:"X",target:"AD",code:["READWLOW","INDEX","READADHIGH","READADLOW"]},175:{operation:"STX",mode:"indexed",object:"X",target:"AD",code:["READWLOW","INDEX","WRITEHIGH","WRITELOW"]},176:{operation:"SUBA",mode:"extended",object:"A",target:"PC",code:["READHIGH","READWLOW","TFRWTOTG","SUBTGFROMOB"]},177:{operation:"CMPA",mode:"extended",object:"A",target:"AD",code:["READHIGH","READWLOW","TFRWTOTG","READADLOWCOMPARE"]},178:{operation:"SBCA",mode:"extended",object:"A",target:"PC",code:["READHIGH","READWLOW","TFRWTOTG","SUBCTGFROMOB"]},179:{operation:"SUBD",mode:"extended",object:"D",target:"W",code:["READHIGH","READWLOW","SWAPWAD","READADHIGH","READADWLOW","SUBTGFROMOB"]},180:{operation:"ANDA",mode:"extended",object:"A",target:"AD",code:["READHIGH","READWLOW","TFRWTOTG","READAND"]},181:{operation:"BITA",mode:"extended",object:"A",target:"AD",code:["READHIGH","READWLOW","SWAPWAD","BITTEST"]},182:{operation:"LDA",mode:"extended",object:"A",target:"AD",code:["READHIGH","READWLOW","TFRWTOTG","READADLOW"]},183:{operation:"STA",mode:"extended",object:"A",target:"AD",code:["READHIGH","READWLOW","TFRWTOTG","WRITELOW"]},184:{operation:"EORA",mode:"extended",object:"A",target:"AD",code:["READHIGH","READWLOW","TFRWTOTG","READEOR"]},185:{operation:"ADCA",mode:"extended",object:"A",target:"PC",code:["READHIGH","READWLOW","TFRWTOTG","ADDCTGTOOB"]},186:{operation:"ORA",mode:"extended",object:"A",target:"AD",code:["READHIGH","READWLOW","TFRWTOTG","READOR"]},187:{operation:"ADDA",mode:"extended",object:"A",target:"AD",code:["READHIGH","READWLOW","TFRWTOTG","ADDTGBTOOB"]},188:{operation:"CMPX",mode:"extended",object:"X",target:"AD",code:["READHIGH","READWLOW","TFRWTOTG","READADHIGH","READADWLOW","COMPAREW"]},189:{operation:"JSR",mode:"extended",object:"PC",code:["READHIGH","READWLOW","PUSHPC","TFRWTOOB","BUSY","BUSY","BUSY"]},190:{operation:"LDX",mode:"extended",object:"X",target:"AD",code:["READHIGH","READWLOW","TFRWTOTG","READADHIGH","READADLOW"]},191:{operation:"STX",mode:"extended",object:"X",target:"AD",code:["READHIGH","READWLOW","TFRWTOTG","WRITEHIGH","WRITELOW"]},192:{operation:"SUBB",mode:"immediate",object:"B",target:"PC",code:["SUBPCFROMOB"]},193:{operation:"CMPB",mode:"immediate",object:"B",code:["READLOWCOMPARE"]},194:{operation:"SBCB",mode:"immediate",object:"B",target:"PC",code:["SUBCPCFROMOB"]},195:{operation:"ADDD",mode:"immediate",object:"D",target:"W",code:["READHIGH","READWLOW","ADDTGBTOOB"]},196:{operation:"ANDB",mode:"immediate",object:"B",target:"PC",code:["READAND"]},197:{operation:"BITB",mode:"immediate",object:"B",target:"PC",code:["BITTEST"]},198:{operation:"LDB",mode:"immediate",object:"B",code:["READLOW"]},200:{operation:"EORB",mode:"immediate",object:"B",target:"PC",code:["READEOR"]},201:{operation:"ADCB",mode:"immediate",object:"B",target:"PC",code:["ADDCPCTOOB"]},202:{operation:"OR",mode:"immediate",object:"B",target:"PC",code:["READOR"]},203:{operation:"ADDB",mode:"immediate",object:"B",code:["ADDPCTOOB"]},204:{operation:"LDD",mode:"immediate",object:"D",code:["READHIGH","READLOW"]},206:{operation:"LDU",mode:"immediate",object:"U",code:["READHIGH","READLOW"]},208:{operation:"SUBB",mode:"direct",object:"B",target:"AD",code:["DIRECT","TFRWTOTG","SUBTGFROMOB"]},209:{operation:"CMPB",mode:"direct",object:"B",target:"AD",code:["DIRECT","TFRWTOTG","READADLOWCOMPARE"]},210:{operation:"SBCB",mode:"direct",object:"B",target:"PC",code:["DIRECT","TFRWTOTG","SUBCTGFROMOB"]},211:{operation:"ADDD",mode:"direct",object:"D",target:"W",code:["DIRECT","SWAPWAD","READADHIGH","READADWLOW","ADDTGBTOOB"]},212:{operation:"ANDB",mode:"direct",object:"B",target:"AD",code:["DIRECT","TFRWTOTG","READAND"]},213:{operation:"BITB",mode:"direct",object:"B",target:"AD",code:["DIRECT","SWAPWAD","BITTEST"]},214:{operation:"LDB",mode:"direct",object:"B",target:"AD",code:["DIRECT","TFRWTOTG","READADLOW"]},215:{operation:"STB",mode:"direct",object:"B",target:"AD",code:["DIRECT","TFRWTOTG","WRITELOW"]},216:{operation:"EORB",mode:"direct",object:"B",target:"AD",code:["DIRECT","TFRWTOTG","READEOR"]},217:{operation:"ADCB",mode:"direct",object:"B",target:"PC",code:["DIRECT","TFRWTOTG","ADDCTGTOOB"]},218:{operation:"ORB",mode:"direct",object:"B",target:"AD",code:["DIRECT","TFRWTOTG","READOR"]},219:{operation:"ADDB",mode:"direct",object:"B",target:"AD",code:["DIRECT","TFRWTOTG","ADDTGBTOOB"]},220:{operation:"LDD",mode:"direct",object:"D",target:"AD",code:["DIRECT","TFRWTOTG","READADHIGH","READADLOW"]},221:{operation:"STD",mode:"direct",object:"D",target:"AD",code:["DIRECT","TFRWTOTG","WRITEHIGH","WRITELOW"]},222:{operation:"LDU",mode:"direct",object:"U",target:"AD",code:["DIRECT","TFRWTOTG","READADHIGH","READADLOW"]},223:{operation:"STU",mode:"direct",object:"U",target:"AD",code:["DIRECT","TFRWTOTG","WRITEHIGH","WRITELOW"]},224:{operation:"SUBB",mode:"indexed",object:"B",target:"AD",code:["READWLOW","INDEX","SUBTGFROMOB"]},225:{operation:"CMPB",mode:"indexed",object:"B",target:"AD",code:["READWLOW","INDEX","READADLOWCOMPARE"]},226:{operation:"SBCB",mode:"indexed",object:"B",target:"AD",code:["READWLOW","INDEX","SUBCTGFROMOB"]},227:{operation:"ADDD",mode:"indexed",object:"D",target:"AD",code:["READWLOW","INDEX","READADHIGH","READADWLOW","SWAPWAD","ADDTGBTOOB","BUSY","BUSY"]},228:{operation:"ANDB",mode:"indexed",object:"B",target:"AD",code:["READWLOW","INDEX","READAND"]},229:{operation:"BITB",mode:"indexed",object:"B",target:"AD",code:["READWLOW","INDEX","BITTEST"]},230:{operation:"LDB",mode:"indexed",object:"B",target:"AD",code:["READWLOW","INDEX","READADLOW"]},231:{operation:"STB",mode:"indexed",object:"B",target:"AD",code:["READWLOW","INDEX","WRITELOW"]},232:{operation:"EORB",mode:"indexed",object:"B",target:"AD",code:["READWLOW","INDEX","READEOR"]},233:{operation:"ADCB",mode:"indexed",object:"B",target:"AD",code:["READWLOW","INDEX","ADDCTGTOOB"]},234:{operation:"ORB",mode:"indexed",object:"B",target:"AD",code:["READWLOW","INDEX","READOR"]},235:{operation:"ADDB",mode:"indexed",object:"B",target:"AD",code:["READWLOW","INDEX","ADDTGBTOOB"]},236:{operation:"LDD",mode:"direct",object:"D",target:"AD",code:["READWLOW","INDEX","READADHIGH","READADLOW"]},237:{operation:"STD",mode:"indexed",object:"D",target:"AD",code:["READWLOW","INDEX","WRITEHIGH","WRITELOW"]},238:{operation:"LDU",mode:"direct",object:"U",target:"AD",code:["READWLOW","INDEX","READADHIGH","READADLOW"]},239:{operation:"STU",mode:"indexed",object:"U",target:"AD",code:["READWLOW","INDEX","WRITEHIGH","WRITELOW"]},240:{operation:"SUBB",mode:"extended",object:"B",target:"PC",code:["READHIGH","READWLOW","TFRWTOTG","SUBTGFROMOB"]},241:{operation:"CMPB",mode:"extended",object:"B",target:"AD",code:["READHIGH","READWLOW","TFRWTOTG","READADLOWCOMPARE"]},242:{operation:"SBCB",mode:"extended",object:"B",target:"PC",code:["READHIGH","READWLOW","TFRWTOTG","SUBCTGFROMOB"]},243:{operation:"ADDD",mode:"extended",object:"D",target:"W",code:["READHIGH","READWLOW","SWAPWAD","READADHIGH","READADWLOW","ADDTGBTOOB"]},244:{operation:"ANDB",mode:"extended",object:"B",target:"AD",code:["READHIGH","READWLOW","TFRWTOTG","READAND"]},245:{operation:"BITB",mode:"extended",object:"B",target:"AD",code:["READHIGH","READWLOW","SWAPWAD","BITTEST"]},246:{operation:"LDB",mode:"extended",object:"B",target:"AD",code:["READHIGH","READWLOW","TFRWTOTG","READADLOW"]},247:{operation:"STB",mode:"extended",object:"B",target:"AD",code:["READHIGH","READWLOW","TFRWTOTG","WRITELOW"]},248:{operation:"EORB",mode:"extended",object:"B",target:"AD",code:["READHIGH","READWLOW","TFRWTOTG","READEOR"]},249:{operation:"ADCB",mode:"extended",object:"B",target:"PC",code:["READHIGH","READWLOW","TFRWTOTG","ADDCTGTOOB"]},250:{operation:"ORB",mode:"extended",object:"B",target:"AD",code:["READHIGH","READWLOW","TFRWTOTG","READOR"]},251:{operation:"ADDB",mode:"extended",object:"B",target:"AD",code:["READHIGH","READWLOW","TFRWTOTG","ADDTGBTOOB"]},252:{operation:"LDD",mode:"extended",object:"D",target:"AD",code:["READHIGH","READWLOW","TFRWTOTG","READADHIGH","READADLOW"]},253:{operation:"STD",mode:"extended",object:"D",target:"AD",code:["READHIGH","READWLOW","TFRWTOTG","WRITEHIGH","WRITELOW"]},254:{operation:"LDU",mode:"extended",object:"U",target:"AD",code:["READHIGH","READWLOW","TFRWTOTG","READADHIGH","READADLOW"]},255:{operation:"STU",mode:"extended",object:"U",target:"AD",code:["READHIGH","READWLOW","TFRWTOTG","WRITEHIGH","WRITELOW"]},fastVectorFromRun:{operation:"HWI",mode:"inherent",object:"S",target:"AD",code:["TFROBTOTG","PUSHIR","TFRTGTOOB","VECTORHIGH","VECTORLOW","MASKIF","BUSY","BUSY","BUSY"]},vectorFromRun:{operation:"HWI",mode:"inherent",object:"S",target:"AD",code:["SETENTIRE","TFROBTOTG","PUSH","TFRTGTOOB","VECTORHIGH","VECTORLOW","MASKIF","BUSY","BUSY"]},vectorFromWait:{operation:"HWI",mode:"inherent",object:"S",target:"AD",code:["VECTORHIGH","VECTORLOW","MASKIF","BUSY","BUSY","BUSY","BUSY","BUSY"]}},e.exports={instructions}},948:(e,t,o)=>{const{CpuRegister:r}=o(775),c=o(109),{ControlRegister:i}=o(550),{WideRegister:a}=o(640);e.exports={RegisterManager:class{constructor(){this.cc=new i;const e=new r(c.SHORT,"A",this.cc),t=new r(c.SHORT,"B",this.cc);this.registers={A:e,B:t,DP:new r(c.SHORT,"DP",this.cc),CC:this.cc,X:new r(c.LONG,"X",this.cc),Y:new r(c.LONG,"Y",this.cc),S:new r(c.LONG,"S",this.cc),U:new r(c.LONG,"U",this.cc),PC:new r(c.LONG,"PC",this.cc),D:new a("D",e,t),W:new r(c.LONG,"W",this.cc),AD:new r(c.LONG,"AD",this.cc)}}get(e){return this.registers[e]}}}},640:(e,t,o)=>{const{CpuRegister:r}=o(775),c=o(109);e.exports={WideRegister:class extends r{constructor(e,t,o){super(c.LONG,e,t.control_register),this.high_register=t,this.low_register=o}load(e){this.set(e),this.testValue()}save(){const e=this.fetch();return this.testValue(),e}fetch(){return this.value=(this.high_register.fetch()<<8)+this.low_register.fetch(),this.value}set(e){this.value=e&this.valueMask;const t=255&e,o=(65280&e)>>8;this.high_register.set(o),this.low_register.set(t)}}}},915:e=>{halfSet=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,16,16,0,16,0,0,0,40,40,0,0,0,0,0,0,36,126,36,36,126,36,0,0,16,60,64,56,4,120,16,0,100,104,8,16,22,38,0,0,48,64,32,84,72,52,0,0,32,32,0,0,0,0,0,0,16,32,32,32,32,16,0,0,16,8,8,8,8,16,0,0,16,84,56,56,84,16,0,0,16,16,124,16,16,0,0,0,0,0,0,16,16,32,0,0,0,0,56,0,0,0,0,0,0,0,0,32,32,0,0,0,8,8,16,16,32,32,0,0,24,36,36,36,36,24,0,0,16,48,16,16,16,56,0,0,24,36,4,24,32,60,0,0,24,36,8,4,36,24,0,0,32,32,40,60,8,8,0,0,60,32,56,4,4,56,0,0,24,32,56,36,36,24,0,0,60,4,4,8,16,16,0,0,24,36,24,36,36,24,0,0,24,36,36,28,4,24,0,0,0,16,16,0,16,16,0,0,0,16,16,0,16,32,0,0,8,16,32,32,16,8,0,0,0,0,60,0,60,0,0,0,16,8,4,4,8,16,0,0,24,36,4,24,0,16,0,0,24,36,76,84,76,32,24,0,24,36,36,60,36,36,0,0,56,36,56,36,36,56,0,0,24,36,32,32,36,24,0,0,56,36,36,36,36,56,0,0,60,32,56,32,32,60,0,0,60,32,56,32,32,32,0,0,24,36,32,44,36,24,0,0,36,36,36,60,36,36,0,0,56,16,16,16,16,56,0,0,28,4,4,4,4,24,0,0,36,40,48,40,36,36,0,0,32,32,32,32,32,60,0,0,68,108,84,68,68,68,0,0,68,100,84,76,68,68,0,0,56,68,68,68,68,56,0,0,56,36,36,56,32,32,0,0,56,68,68,68,72,52,0,0,56,36,36,56,36,36,0,0,28,32,24,4,4,56,0,0,124,16,16,16,16,16,0,0,36,36,36,36,36,24,0,0,68,68,68,40,40,16,0,0,68,68,68,84,108,68,0,0,68,40,16,40,68,68,0,0,68,68,40,16,16,16,0,0,60,4,8,16,32,60,0,0,48,32,32,32,32,48,0,0,32,32,16,16,8,8,0,0,24,8,8,8,8,24,0,0,16,40,0,0,0,0,0,0,0,0,0,0,0,124,0,0,32,32,16,0,0,0,0,255,231,219,219,195,219,219,255,255,199,219,199,219,219,199,255,255,231,219,223,223,219,231,255,255,199,219,219,219,219,199,255,255,195,223,199,223,223,195,255,255,195,223,199,223,223,223,255,255,231,219,223,211,219,231,255,255,219,219,219,195,219,219,255,255,199,239,239,239,239,199,255,255,227,251,251,251,251,231,255,255,219,215,207,215,219,219,255,255,223,223,223,223,223,195,255,255,187,147,171,187,187,187,255,255,187,155,171,179,187,187,255,255,199,187,187,187,187,199,255,255,199,219,219,199,223,223,255,255,199,187,187,187,183,203,255,255,199,219,219,199,219,219,255,255,227,223,231,251,251,199,255,255,131,239,239,239,239,239,255,255,219,219,219,219,219,231,255,255,187,187,187,215,215,239,255,255,187,187,187,171,147,187,255,255,187,215,239,215,187,187,255,255,187,187,215,239,239,239,255,255,195,251,247,239,223,195,255,0,16,32,32,96,32,32,16,0,32,32,32,0,32,32,32,0,16,8,8,12,8,8,16,0,0,50,76,0,0,0,0,0,0,0,0,0,0,0,0],e.exports={halfSet}},508:(e,t,o)=>{const r=o(365);e.exports={Chip:class{constructor(e,t){e===r.RAM?(this.readable=!0,this.writeable=!0,this.hardmapped=!1):e===r.ROM?(this.readable=!0,this.writeable=!1,this.hardmapped=!1):e===r.MAPPED&&(this.readable=!0,this.writeable=!0,this.hardmapped=!0),this.size=t,this.base=0,this.memory=[];for(let e=0;e<this.size;++e)this.memory[e]=0}setBase(e){this.base=e}getSize(){return this.size}setMemory(e,t){if(this.writeable){const o=255&t,r=e-this.base;if(r<0||r>=this.size)throw new EvalError("address out of range");this.memory[r]=o}}getMemory(e){if(this.readable){const t=e-this.base;if(t<0||t>=this.size)throw new EvalError("address out of range");return this.memory[t]}}burnMemory(e,t){const o=255&t,r=e-this.base;if(r<0||r>=this.size)throw new EvalError("address out of range");this.memory[r]=o}getReadable(){return this.readable}getWriteable(){return this.writeable}getMapped(){return this.hardmapped}}}},365:(e,t,o)=>{const r=o(885)(t);r("RAM","ram"),r("ROM","rom"),r("MAPPED","mapped"),r("B256",256),r("B512",512),r("K1",1024),r("K2",2048),r("K4",4096),r("K8",8192),r("K16",16384),r("K32",32768),r("K64",65536),r("K128",131072),r("K256",262144),r("K512",524288),r("M1",1048576)},806:(e,t,o)=>{const{MemoryManager:r}=o(659),{Chip:c}=o(508),i=o(365),a={D64:[{type:i.MAPPED,size:i.B256,base:65280},{type:i.RAM,size:i.K32,base:0},{type:i.ROM,size:i.K32,base:32768}],D4:[{type:i.MAPPED,size:i.B256,base:65280},{type:i.RAM,size:i.K4,base:0}],MAX:[{type:i.MAPPED,size:i.B256,base:65280},{type:i.RAM,size:i.M1,base:0},{type:i.RAM,size:i.M1,base:1048576}]};transform=(e,t,o)=>[new c(e,t),o],e.exports={factory:e=>{const t=a[e],o=[];if(void 0!==t){for(let e=0;e<t.length;++e)o.push(transform(t[e].type,t[e].size,t[e].base));return new r(o)}throw new Error("Invalid memory model")}}},659:e=>{e.exports={MemoryManager:class{constructor(e){this.address_map=[],this.hardware=[],e.forEach((e=>{const t=e[0],o=e[1];this.hardware.push(t),t.setBase(o);const r=t.getSize();for(let e=0;e<r;++e){const r=o+e;this.address_map[r]=t}}))}read(e){return void 0!==this.address_map[e]?this.address_map[e].getMemory(e):0}write(e,t){void 0!==this.address_map[e]&&this.address_map[e].setMemory(e,t)}burn(e,t){void 0!==this.address_map[e]&&this.address_map[e].burnMemory(e,t)}}}}},t={};function o(r){var c=t[r];if(void 0!==c)return c.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,o),i.exports}const r=o(806),{Cpu:c}=o(655),i=o(915).halfSet;window.onload=()=>{const e=(e,t)=>i[8*e+t%8],t=(e,t)=>Math.floor(e/t),o=document.body,a=document.createElement("div");a.id="display",o.append(a);const d=document.createElement("canvas");d.id="screen",d.width=720,d.height=568,a.append(d);const D=d.getContext("2d"),A=d.width,s=d.height,n=D.createImageData(A,s),R=r.factory("D64"),W=new c(R);R.burn(65534,32);const O=[134,135,139,170,36,2,134,0,183,4,0,32,245,16,206,127,255,142,4,0,141,16,141,7,48,136,40,108,132,32,252,49,141,0,30,141,15,57,52,18,134,32,167,128,140,8,176,38,249,53,18,57,52,50,166,160,39,4,167,128,32,248,53,50,57,86,73,82,84,85,65,76,32,54,56,48,57,32,86,48,46,52,46,54,0];for(let e=0;e<O.length;++e)R.write(8192+e,O[e]);const T=o=>{window.requestAnimationFrame(T),(()=>{const o=t(88,2),r=t(80,2);for(let c=0;c<s;++c)for(let i=0;i<A;++i){const a=4*(c*A+i);let d=0,D=0,s=0;const W=255;if(c<o||c>=568-o||i<r||i>=720-r);else{const a=t(i-r,2),A=t(c-o,2),n=A%8,W=1024+t(a,8)+40*t(A,8),O=R.read(W),T=128>>a%8;(e(O,n)&T)!==T?(d=0,s=0,D=0):(d=255,s=255,D=255)}n.data[a]=d,n.data[a+1]=s,n.data[a+2]=D,n.data[a+3]=W}})(Math.floor(o/10)),D.putImageData(n,0,0)};T(0),setInterval((function(){let e=1e3;for(;e-- >0;)W.cycle()}),1)}})();